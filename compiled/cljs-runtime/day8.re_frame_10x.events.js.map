{"version":3,"sources":["day8/re_frame_10x/events.cljs"],"mappings":"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","names":["day8.re_frame_10x.inlined_deps.re_frame.v1v1v2.re_frame.core.reg_event_fx","day8.re_frame_10x.inlined_deps.re_frame.v1v1v2.re_frame.core.inject_cofx","id1","cljs.core/random-uuid","id2","day8.re-frame-10x.inlined-deps.re-frame.v1v1v2.re-frame.core/unwrap","p__26335","p__26336","map__26337","cljs.core/--destructure-map","cljs.core.get","map__26338","panel-width-ratio","show-panel","selected-tab","filter-items","app-db-json-ml-expansions","external-window?","external-window-dimensions","show-epoch-traces?","using-trace?","ignored-events","low-level-trace","filtered-view-trace","retained-epochs","app-db-paths","app-db-follow-events?","ambiance","syntax-color-scheme","categories","data-path-annotations?","show-event-history","open-new-inspectors?","debug?","day8.re-frame-10x.navigation.views/mount","cljs.core.into","cljs.core/sorted-map","_","js/window.addEventListener","day8.re-frame-10x.inlined-deps.re-frame.v1v1v2.re-frame.core/dispatch-sync","day8.re_frame_10x.inlined_deps.re_frame.v1v1v2.re_frame.core.reg_event_db","p__26342","vec__26343","cljs.core.nth","db","unloading?","cljs.core/assoc-in"],"sourcesContent":["(ns day8.re-frame-10x.events\n  (:require\n    [re-frame.core]\n    [re-frame.db]\n    [re-frame.trace]\n    [re-frame.interop]\n    [day8.re-frame-10x.inlined-deps.re-frame.v1v1v2.re-frame.core :as rf]\n    [day8.re-frame-10x.fx.local-storage                           :as local-storage]\n    [day8.re-frame-10x.navigation.events                          :as navigation.events]\n    [day8.re-frame-10x.navigation.views                           :as navigation.views]\n    [day8.re-frame-10x.panels.app-db.events                       :as app-db.events]\n    [day8.re-frame-10x.panels.settings.events                     :as settings.events]\n    [day8.re-frame-10x.panels.traces.events                       :as traces.events]))\n\n(rf/reg-event-fx\n  ::init\n  [(rf/inject-cofx ::local-storage/load {:key \"panel-width-ratio\" :or 0.35})\n   (rf/inject-cofx ::local-storage/load {:key \"show-panel\" :or true})\n   (rf/inject-cofx ::local-storage/load {:key \"selected-tab\" :or :event})\n   (rf/inject-cofx ::local-storage/load {:key \"filter-items\" :or []})\n   (rf/inject-cofx ::local-storage/load {:key \"app-db-json-ml-expansions\" :or #{}})\n   (rf/inject-cofx ::local-storage/load {:key \"external-window?\" :or false})\n   (rf/inject-cofx ::local-storage/load {:key \"external-window-dimensions\" :or {:width 800 :height 800 :top 0 :left 0}})\n   (rf/inject-cofx ::local-storage/load {:key \"show-epoch-traces?\" :or true})\n   (rf/inject-cofx ::local-storage/load {:key \"using-trace?\" :or true})\n   (rf/inject-cofx ::local-storage/load {:key \"ignored-events\" :or {}})\n   (rf/inject-cofx ::local-storage/load {:key \"low-level-trace\" :or {:reagent true :re-frame true}})\n   (rf/inject-cofx ::local-storage/load {:key \"filtered-view-trace\" :or (let [id1 (random-uuid)\n                                                                              id2  (random-uuid)]\n                                                                          {id1 {:id id1 :ns-str \"re-com.box\" :ns 're-com.box :sort 0}\n                                                                           id2 {:id id2 :ns-str \"re-com.input-text\" :ns 're-com.input-text :sort 1}})})\n   (rf/inject-cofx ::local-storage/load {:key \"retained-epochs\" :or 25})\n   (rf/inject-cofx ::local-storage/load {:key \"app-db-paths\" :or {}})\n   (rf/inject-cofx ::local-storage/load {:key \"app-db-follows-events?\" :or true})\n   (rf/inject-cofx ::local-storage/load {:key \"ambiance\" :or :bright})\n   (rf/inject-cofx ::local-storage/load {:key \"syntax-color-scheme\" :or :cljs-devtools})\n   (rf/inject-cofx ::local-storage/load {:key \"categories\" :or #{:event :sub/run :sub/create :sub/dispose}})\n   (rf/inject-cofx ::local-storage/load {:key \"data-path-annotations?\" :or false})\n   (rf/inject-cofx ::local-storage/load {:key \"show-event-history\" :or true})\n   (rf/inject-cofx ::local-storage/load {:key \"open-new-inspectors?\" :or true})\n   rf/unwrap]\n  (fn [{:keys [panel-width-ratio show-panel selected-tab filter-items app-db-json-ml-expansions\n               external-window? external-window-dimensions show-epoch-traces? using-trace?\n               ignored-events low-level-trace filtered-view-trace retained-epochs app-db-paths\n               app-db-follow-events? ambiance syntax-color-scheme categories data-path-annotations?\n               show-event-history open-new-inspectors?]}\n       {:keys [debug?]}]\n    {:fx [(when using-trace?\n            [:dispatch [::settings.events/enable-tracing]])\n          [:dispatch [::settings.events/panel-width% panel-width-ratio]]\n          [:dispatch [::settings.events/show-panel? show-panel]]\n          [:dispatch [::settings.events/selected-tab selected-tab]]\n          [:dispatch [::settings.events/set-ignored-events ignored-events]]\n          [:dispatch [::settings.events/set-filtered-view-trace filtered-view-trace]]\n          [:dispatch [::settings.events/set-low-level-trace low-level-trace]]\n          [:dispatch [::settings.events/set-number-of-retained-epochs retained-epochs]]\n          [:dispatch [::settings.events/app-db-follows-events? app-db-follow-events?]]\n          [:dispatch [::settings.events/set-ambiance ambiance]]\n          [:dispatch [::settings.events/set-syntax-color-scheme syntax-color-scheme]]\n          [:dispatch [::settings.events/debug? debug?]]\n          ;; Important that window dimensions are set before we open an external window.\n          [:dispatch [::settings.events/external-window-dimensions external-window-dimensions]]\n          [:dispatch [::app-db.events/set-data-path-annotations? data-path-annotations?]]\n          (when external-window?\n            [:dispatch [::navigation.events/launch-external navigation.views/mount]])\n          [:dispatch [::traces.events/set-queries filter-items]]\n          [:dispatch [::traces.events/set-categories categories]]\n          [:dispatch [::traces.events/set-filter-by-selected-epoch? show-epoch-traces?]]\n          [:dispatch [::app-db.events/paths (into (sorted-map) app-db-paths)]]\n          [:dispatch [::app-db.events/set-json-ml-paths app-db-json-ml-expansions]]\n          [:dispatch [:global/add-unload-hook]]\n          [:dispatch [::app-db.events/reagent-id]]\n          [:dispatch [::settings.events/show-event-history? show-event-history]]\n          [:dispatch [::settings.events/open-new-inspectors? open-new-inspectors?]]]}))\n\n;; Global\n\n(rf/reg-event-fx\n  :global/add-unload-hook\n  (fn [_ _]\n    (js/window.addEventListener \"beforeunload\" #(rf/dispatch-sync [:global/unloading? true]))\n    nil))\n\n(rf/reg-event-db\n  :global/unloading?\n  (fn [db [_ unloading?]]\n    (assoc-in db [:global :unloading?] unloading?)))"]}