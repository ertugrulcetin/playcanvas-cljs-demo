{
"version":3,
"file":"goog.ui.menu.js",
"lineCount":174,
"mappings":"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",
"sources":["goog/ui/menu.js"],
"sourcesContent":["/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview A base menu class that supports key and mouse events. The menu\n * can be bound to an existing HTML structure or can generate its own DOM.\n *\n * To decorate, the menu should be bound to an element containing children\n * with the classname 'goog-menuitem'.  HRs will be classed as separators.\n *\n * Decorate Example:\n * <div id=\"menu\" class=\"goog-menu\" tabIndex=\"0\">\n *   <div class=\"goog-menuitem\">Google</div>\n *   <div class=\"goog-menuitem\">Yahoo</div>\n *   <div class=\"goog-menuitem\">MSN</div>\n *   <hr>\n *   <div class=\"goog-menuitem\">New...</div>\n * </div>\n * <script>\n *\n * var menu = new goog.ui.Menu();\n * menu.decorate(goog.dom.getElement('menu'));\n *\n * TESTED=FireFox 2.0, IE6, Opera 9, Chrome.\n * TODO(user): Key handling is flaky in Opera and Chrome\n * TODO(user): Rename all references of \"item\" to child since menu is\n * essentially very generic and could, in theory, host a date or color picker.\n *\n * @see ../demos/menu.html\n * @see ../demos/menus.html\n */\n\ngoog.provide('goog.ui.Menu');\ngoog.provide('goog.ui.Menu.EventType');\n\ngoog.require('goog.dom.TagName');\ngoog.require('goog.math.Coordinate');\ngoog.require('goog.string');\ngoog.require('goog.style');\ngoog.require('goog.ui.Component.EventType');\ngoog.require('goog.ui.Component.State');\ngoog.require('goog.ui.Container');\ngoog.require('goog.ui.Container.Orientation');\ngoog.require('goog.ui.MenuHeader');\ngoog.require('goog.ui.MenuItem');\ngoog.require('goog.ui.MenuRenderer');\ngoog.require('goog.ui.MenuSeparator');\ngoog.requireType('goog.dom.DomHelper');\ngoog.requireType('goog.events.Event');\n\n// The dependencies MenuHeader, MenuItem, and MenuSeparator are implicit.\n// There are no references in the code, but we need to load these\n// classes before goog.ui.Menu.\n\n\n\n// TODO(robbyw): Reverse constructor argument order for consistency.\n/**\n * A basic menu class.\n * @param {goog.dom.DomHelper=} opt_domHelper Optional DOM helper.\n * @param {goog.ui.MenuRenderer=} opt_renderer Renderer used to render or\n *     decorate the container; defaults to {@link goog.ui.MenuRenderer}.\n * @constructor\n * @extends {goog.ui.Container}\n */\ngoog.ui.Menu = function(opt_domHelper, opt_renderer) {\n  'use strict';\n  goog.ui.Container.call(\n      this, goog.ui.Container.Orientation.VERTICAL,\n      opt_renderer || goog.ui.MenuRenderer.getInstance(), opt_domHelper);\n\n  // Unlike Containers, Menus aren't keyboard-accessible by default.  This line\n  // preserves backwards compatibility with code that depends on menus not\n  // receiving focus - e.g. `goog.ui.MenuButton`.\n  this.setFocusable(false);\n};\ngoog.inherits(goog.ui.Menu, goog.ui.Container);\n\n\n// TODO(robbyw): Remove this and all references to it.\n// Please ensure that BEFORE_SHOW behavior is not disrupted as a result.\n/**\n * Event types dispatched by the menu.\n * @enum {string}\n * @deprecated Use goog.ui.Component.EventType.\n */\ngoog.ui.Menu.EventType = {\n  /** Dispatched before the menu becomes visible */\n  BEFORE_SHOW: goog.ui.Component.EventType.BEFORE_SHOW,\n\n  /** Dispatched when the menu is shown */\n  SHOW: goog.ui.Component.EventType.SHOW,\n\n  /** Dispatched before the menu becomes hidden */\n  BEFORE_HIDE: goog.ui.Component.EventType.HIDE,\n\n  /** Dispatched when the menu is hidden */\n  HIDE: goog.ui.Component.EventType.HIDE\n};\n\n\n// TODO(robbyw): Remove this and all references to it.\n/**\n * CSS class for menus.\n * @type {string}\n * @deprecated Use goog.ui.MenuRenderer.CSS_CLASS.\n */\ngoog.ui.Menu.CSS_CLASS = goog.ui.MenuRenderer.CSS_CLASS;\n\n\n/**\n * Coordinates of the mousedown event that caused this menu to be made visible.\n * Used to prevent the consequent mouseup event due to a simple click from\n * activating a menu item immediately. Considered protected; should only be used\n * within this package or by subclasses.\n * @type {goog.math.Coordinate|undefined}\n */\ngoog.ui.Menu.prototype.openingCoords;\n\n\n/**\n * Whether the menu can move the focus to its key event target when it is\n * shown.  Default = true\n * @type {boolean}\n * @private\n */\ngoog.ui.Menu.prototype.allowAutoFocus_ = true;\n\n\n/**\n * Whether the menu should use windows style behavior and allow disabled menu\n * items to be highlighted (though not selectable).  Defaults to false\n * @type {boolean}\n * @private\n */\ngoog.ui.Menu.prototype.allowHighlightDisabled_ = false;\n\n\n/**\n * Returns the CSS class applied to menu elements, also used as the prefix for\n * derived styles, if any.  Subclasses should override this method as needed.\n * Considered protected.\n * @return {string} The CSS class applied to menu elements.\n * @protected\n * @deprecated Use getRenderer().getCssClass().\n */\ngoog.ui.Menu.prototype.getCssClass = function() {\n  'use strict';\n  return this.getRenderer().getCssClass();\n};\n\n\n/**\n * Returns whether the provided element is to be considered inside the menu for\n * purposes such as dismissing the menu on an event.  This is so submenus can\n * make use of elements outside their own DOM.\n * @param {Element} element The element to test for.\n * @return {boolean} Whether the provided element is to be considered inside\n *     the menu.\n */\ngoog.ui.Menu.prototype.containsElement = function(element) {\n  'use strict';\n  if (this.getRenderer().containsElement(this, element)) {\n    return true;\n  }\n\n  for (var i = 0, count = this.getChildCount(); i < count; i++) {\n    var child = this.getChildAt(i);\n    if (typeof child.containsElement == 'function' &&\n        child.containsElement(element)) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\n\n/**\n * Adds a new menu item at the end of the menu.\n * @param {goog.ui.MenuHeader|goog.ui.MenuItem|goog.ui.MenuSeparator} item Menu\n *     item to add to the menu.\n * @deprecated Use {@link #addChild} instead, with true for the second argument.\n */\ngoog.ui.Menu.prototype.addItem = function(item) {\n  'use strict';\n  this.addChild(item, true);\n};\n\n\n/**\n * Adds a new menu item at a specific index in the menu.\n * @param {goog.ui.MenuHeader|goog.ui.MenuItem|goog.ui.MenuSeparator} item Menu\n *     item to add to the menu.\n * @param {number} n Index at which to insert the menu item.\n * @deprecated Use {@link #addChildAt} instead, with true for the third\n *     argument.\n */\ngoog.ui.Menu.prototype.addItemAt = function(item, n) {\n  'use strict';\n  this.addChildAt(item, n, true);\n};\n\n\n/**\n * Removes an item from the menu and disposes of it.\n * @param {goog.ui.MenuHeader|goog.ui.MenuItem|goog.ui.MenuSeparator} item The\n *     menu item to remove.\n * @deprecated Use {@link #removeChild} instead.\n */\ngoog.ui.Menu.prototype.removeItem = function(item) {\n  'use strict';\n  var removedChild = this.removeChild(item, true);\n  if (removedChild) {\n    removedChild.dispose();\n  }\n};\n\n\n/**\n * Removes a menu item at a given index in the menu and disposes of it.\n * @param {number} n Index of item.\n * @deprecated Use {@link #removeChildAt} instead.\n */\ngoog.ui.Menu.prototype.removeItemAt = function(n) {\n  'use strict';\n  var removedChild = this.removeChildAt(n, true);\n  if (removedChild) {\n    removedChild.dispose();\n  }\n};\n\n\n/**\n * Returns a reference to the menu item at a given index.\n * @param {number} n Index of menu item.\n * @return {goog.ui.MenuHeader|goog.ui.MenuItem|goog.ui.MenuSeparator|null}\n *     Reference to the menu item.\n * @deprecated Use {@link #getChildAt} instead.\n */\ngoog.ui.Menu.prototype.getItemAt = function(n) {\n  'use strict';\n  return /** @type {goog.ui.MenuItem?} */ (this.getChildAt(n));\n};\n\n\n/**\n * Returns the number of items in the menu (including separators).\n * @return {number} The number of items in the menu.\n * @deprecated Use {@link #getChildCount} instead.\n */\ngoog.ui.Menu.prototype.getItemCount = function() {\n  'use strict';\n  return this.getChildCount();\n};\n\n\n/**\n * Returns an array containing the menu items contained in the menu.\n * @return {!Array<goog.ui.MenuItem>} An array of menu items.\n * @deprecated Use getChildAt, forEachChild, and getChildCount.\n */\ngoog.ui.Menu.prototype.getItems = function() {\n  'use strict';\n  // TODO(user): Remove reference to getItems and instead use getChildAt,\n  // forEachChild, and getChildCount\n  var children = [];\n  this.forEachChild(function(child) {\n    'use strict';\n    children.push(child);\n  });\n  return children;\n};\n\n\n/**\n * Sets the position of the menu relative to the view port.\n * @param {number|goog.math.Coordinate} x Left position or coordinate obj.\n * @param {number=} opt_y Top position.\n */\ngoog.ui.Menu.prototype.setPosition = function(x, opt_y) {\n  'use strict';\n  // NOTE(user): It is necessary to temporarily set the display from none, so\n  // that the position gets set correctly.\n  var visible = this.isVisible();\n  if (!visible) {\n    goog.style.setElementShown(this.getElement(), true);\n  }\n  goog.style.setPageOffset(this.getElement(), x, opt_y);\n  if (!visible) {\n    goog.style.setElementShown(this.getElement(), false);\n  }\n};\n\n\n/**\n * Gets the page offset of the menu, or null if the menu isn't visible\n * @return {goog.math.Coordinate?} Object holding the x-y coordinates of the\n *     menu or null if the menu is not visible.\n */\ngoog.ui.Menu.prototype.getPosition = function() {\n  'use strict';\n  return this.isVisible() ? goog.style.getPageOffset(this.getElement()) : null;\n};\n\n\n/**\n * Sets whether the menu can automatically move focus to its key event target\n * when it is set to visible.\n * @param {boolean} allow Whether the menu can automatically move focus to its\n *     key event target when it is set to visible.\n */\ngoog.ui.Menu.prototype.setAllowAutoFocus = function(allow) {\n  'use strict';\n  this.allowAutoFocus_ = allow;\n  if (allow) {\n    this.setFocusable(true);\n  }\n};\n\n\n/**\n * @return {boolean} Whether the menu can automatically move focus to its key\n *     event target when it is set to visible.\n */\ngoog.ui.Menu.prototype.getAllowAutoFocus = function() {\n  'use strict';\n  return this.allowAutoFocus_;\n};\n\n\n/**\n * Sets whether the menu will highlight disabled menu items or skip to the next\n * active item.\n * @param {boolean} allow Whether the menu will highlight disabled menu items or\n *     skip to the next active item.\n */\ngoog.ui.Menu.prototype.setAllowHighlightDisabled = function(allow) {\n  'use strict';\n  this.allowHighlightDisabled_ = allow;\n};\n\n\n/**\n * @return {boolean} Whether the menu will highlight disabled menu items or skip\n *     to the next active item.\n */\ngoog.ui.Menu.prototype.getAllowHighlightDisabled = function() {\n  'use strict';\n  return this.allowHighlightDisabled_;\n};\n\n\n/**\n * @override\n * @param {boolean} show Whether to show or hide the menu.\n * @param {boolean=} opt_force If true, doesn't check whether the menu\n *     already has the requested visibility, and doesn't dispatch any events.\n * @param {goog.events.Event=} opt_e Mousedown event that caused this menu to\n *     be made visible (ignored if show is false).\n */\ngoog.ui.Menu.prototype.setVisible = function(show, opt_force, opt_e) {\n  'use strict';\n  var visibilityChanged =\n      goog.ui.Menu.superClass_.setVisible.call(this, show, opt_force);\n  if (visibilityChanged && show && this.isInDocument() &&\n      this.allowAutoFocus_) {\n    this.getKeyEventTarget().focus();\n  }\n  if (show && opt_e && typeof opt_e.clientX === 'number') {\n    this.openingCoords = new goog.math.Coordinate(opt_e.clientX, opt_e.clientY);\n  } else {\n    this.openingCoords = null;\n  }\n  return visibilityChanged;\n};\n\n\n/** @override */\ngoog.ui.Menu.prototype.handleEnterItem = function(e) {\n  'use strict';\n  if (this.allowAutoFocus_) {\n    this.getKeyEventTarget().focus();\n  }\n\n  return goog.ui.Menu.superClass_.handleEnterItem.call(this, e);\n};\n\n\n/**\n * Highlights the next item that begins with the specified string.  If no\n * (other) item begins with the given string, the selection is unchanged.\n * @param {string} charStr The prefix to match.\n * @return {boolean} Whether a matching prefix was found.\n */\ngoog.ui.Menu.prototype.highlightNextPrefix = function(charStr) {\n  'use strict';\n  var re = new RegExp('^' + goog.string.regExpEscape(charStr), 'i');\n  return this.highlightHelper(function(index, max) {\n    'use strict';\n    // Index is >= -1 because it is set to -1 when nothing is selected.\n    var start = index < 0 ? 0 : index;\n    var wrapped = false;\n\n    // We always start looking from one after the current, because we\n    // keep the current selection only as a last resort. This makes the\n    // loop a little awkward in the case where there is no current\n    // selection, as we need to stop somewhere but can't just stop\n    // when index == start, which is why we need the 'wrapped' flag.\n    do {\n      ++index;\n      if (index == max) {\n        index = 0;\n        wrapped = true;\n      }\n      var name = this.getChildAt(index).getCaption();\n      if (name && name.match(re)) {\n        return index;\n      }\n    } while (!wrapped || index != start);\n    return this.getHighlightedIndex();\n  }, this.getHighlightedIndex());\n};\n\n\n/** @override */\ngoog.ui.Menu.prototype.canHighlightItem = function(item) {\n  'use strict';\n  return (this.allowHighlightDisabled_ || item.isEnabled()) &&\n      item.isVisible() && item.isSupportedState(goog.ui.Component.State.HOVER);\n};\n\n\n/** @override */\ngoog.ui.Menu.prototype.decorateInternal = function(element) {\n  'use strict';\n  this.decorateContent(element);\n  goog.ui.Menu.superClass_.decorateInternal.call(this, element);\n};\n\n\n/** @override */\ngoog.ui.Menu.prototype.handleKeyEventInternal = function(e) {\n  'use strict';\n  var handled = goog.ui.Menu.base(this, 'handleKeyEventInternal', e);\n  if (!handled) {\n    // Loop through all child components, and for each menu item call its\n    // key event handler so that keyboard mnemonics can be handled.\n    this.forEachChild(function(menuItem) {\n      'use strict';\n      if (!handled && menuItem.getMnemonic &&\n          menuItem.getMnemonic() == e.keyCode) {\n        if (this.isEnabled()) {\n          this.setHighlighted(menuItem);\n        }\n        // We still delegate to handleKeyEvent, so that it can handle\n        // enabled/disabled state.\n        handled = menuItem.handleKeyEvent(e);\n      }\n    }, this);\n  }\n  return handled;\n};\n\n\n/** @override */\ngoog.ui.Menu.prototype.setHighlightedIndex = function(index) {\n  'use strict';\n  goog.ui.Menu.base(this, 'setHighlightedIndex', index);\n\n  // Bring the highlighted item into view. This has no effect if the menu is not\n  // scrollable.\n  var child = this.getChildAt(index);\n  if (child) {\n    goog.style.scrollIntoContainerView(child.getElement(), this.getElement());\n  }\n};\n\n\n/**\n * Decorate menu items located in any descendant node which as been explicitly\n * marked as a 'content' node.\n * @param {Element} element Element to decorate.\n * @protected\n */\ngoog.ui.Menu.prototype.decorateContent = function(element) {\n  'use strict';\n  var renderer = this.getRenderer();\n  var contentElements = this.getDomHelper().getElementsByTagNameAndClass(\n      goog.dom.TagName.DIV, goog.getCssName(renderer.getCssClass(), 'content'),\n      element);\n\n  // Some versions of IE do not like it when you access this nodeList\n  // with invalid indices. See\n  // http://code.google.com/p/closure-library/issues/detail?id=373\n  var length = contentElements.length;\n  for (var i = 0; i < length; i++) {\n    renderer.decorateChildren(this, contentElements[i]);\n  }\n};\n"],
"names":["goog","provide","require","requireType","ui","Menu","goog.ui.Menu","opt_domHelper","opt_renderer","Container","call","Orientation","VERTICAL","MenuRenderer","getInstance","setFocusable","inherits","EventType","BEFORE_SHOW","Component","SHOW","BEFORE_HIDE","HIDE","CSS_CLASS","prototype","openingCoords","allowAutoFocus_","allowHighlightDisabled_","getCssClass","goog.ui.Menu.prototype.getCssClass","getRenderer","containsElement","goog.ui.Menu.prototype.containsElement","element","i","count","getChildCount","child","getChildAt","addItem","goog.ui.Menu.prototype.addItem","item","addChild","addItemAt","goog.ui.Menu.prototype.addItemAt","n","addChildAt","removeItem","goog.ui.Menu.prototype.removeItem","removedChild","removeChild","dispose","removeItemAt","goog.ui.Menu.prototype.removeItemAt","removeChildAt","getItemAt","goog.ui.Menu.prototype.getItemAt","getItemCount","goog.ui.Menu.prototype.getItemCount","getItems","goog.ui.Menu.prototype.getItems","children","forEachChild","push","setPosition","goog.ui.Menu.prototype.setPosition","x","opt_y","visible","isVisible","style","setElementShown","getElement","setPageOffset","getPosition","goog.ui.Menu.prototype.getPosition","getPageOffset","setAllowAutoFocus","goog.ui.Menu.prototype.setAllowAutoFocus","allow","getAllowAutoFocus","goog.ui.Menu.prototype.getAllowAutoFocus","setAllowHighlightDisabled","goog.ui.Menu.prototype.setAllowHighlightDisabled","getAllowHighlightDisabled","goog.ui.Menu.prototype.getAllowHighlightDisabled","setVisible","goog.ui.Menu.prototype.setVisible","show","opt_force","opt_e","visibilityChanged","superClass_","isInDocument","getKeyEventTarget","focus","clientX","math","Coordinate","clientY","handleEnterItem","goog.ui.Menu.prototype.handleEnterItem","e","highlightNextPrefix","goog.ui.Menu.prototype.highlightNextPrefix","charStr","re","RegExp","string","regExpEscape","highlightHelper","index","max","start","wrapped","name","getCaption","match","getHighlightedIndex","canHighlightItem","goog.ui.Menu.prototype.canHighlightItem","isEnabled","isSupportedState","State","HOVER","decorateInternal","goog.ui.Menu.prototype.decorateInternal","decorateContent","handleKeyEventInternal","goog.ui.Menu.prototype.handleKeyEventInternal","handled","base","menuItem","getMnemonic","keyCode","setHighlighted","handleKeyEvent","setHighlightedIndex","goog.ui.Menu.prototype.setHighlightedIndex","scrollIntoContainerView","goog.ui.Menu.prototype.decorateContent","renderer","contentElements","getDomHelper","getElementsByTagNameAndClass","dom","TagName","DIV","getCssName","length","decorateChildren"]
}
