{"version":3,"sources":["day8/re_frame_10x/panels/timing/views.cljs"],"mappings":"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","names":["day8.re-frame-10x.panels.timing.views/ms->str","ms","cljs.core._EQ_","js/Math.round","day8.re-frame-10x.panels.timing.views/tag-style-factory$","style-name24859","params24860","base-style24868","key__20795__auto__","cljs.core/meta","cljs.core/first","name24867","fexpr__24872","day8.re-frame-10x.inlined-deps.spade.git-sha-93ef290.util/build-style-name","style24865","cljs.core.into","day8.re-frame-10x.inlined-deps.spade.git-sha-93ef290.runtime/compile-css","factory-name24861","day8.re-frame-10x.inlined-deps.spade.git-sha-93ef290.util/factory->name","day8.re-frame-10x.inlined-deps.spade.git-sha-93ef290.runtime/ensure-style!","day8.re-frame-10x.panels.timing.views/tag-style","ambiance","day8.re-frame-10x.styles/frame-uncommon","p__24888","map__24890","cljs.core/--destructure-map","cljs.core.get","day8.re-frame-10x.panels.timing.views/tag","label","time","cljs.core/deref","day8.re_frame_10x.inlined_deps.re_frame.v1v1v2.re_frame.core.subscribe","day8.re-frame-10x.components.re-com/v-box","day8.re-frame-10x.styles/gs-5s","day8.re-frame-10x.components.re-com/label","day8.re-frame-10x.components.data/tag","day8.re-frame-10x.panels.timing.views/section-style-factory$","style-name24892","params24893","base-style24897","name24896","fexpr__24906","style24895","factory-name24894","day8.re-frame-10x.panels.timing.views/section-style","day8.re-frame-10x.styles/frame-1","day8.re-frame-10x.styles/gs-12","day8.re-frame-10x.styles/gs-19","day8.re-frame-10x.panels.timing.views/elapsed","day8.re-frame-10x.components.re-com/h-box","day8.re-frame-10x.styles/gs-12s","day8.re-frame-10x.components.re-com/box","day8.re-frame-10x.styles/gs-81s","day8.re-frame-10x.components.re-com/hyperlink","day8.re-frame-10x.styles/hyperlink","day8.re-frame-10x.panels.timing.views/event-processing","times","day8.re-frame-10x.panels.timing.views/animation-frames","n","iter__5520__auto__","s__24937","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5518__auto__","size__5519__auto__","cljs.core/count","b__24939","cljs.core/chunk-buffer","i__24938","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__24936","cljs.core/chunk-rest","cljs.core/cons","cljs.core/rest","i","cljs.core.range","day8.re-frame-10x.panels.timing.views/panel-style-factory$","style-name24962","params24963","base-style24967","name24966","fexpr__24971","style24965","factory-name24964","day8.re-frame-10x.panels.timing.views/panel-style","_","day8.re-frame-10x.styles/gs-5","day8.re-frame-10x.panels.timing.views/panel","available?","cljs.core/chunk-first"],"sourcesContent":["(ns day8.re-frame-10x.panels.timing.views\n  (:require\n    [day8.re-frame-10x.inlined-deps.re-frame.v1v1v2.re-frame.core :as rf]\n    [day8.re-frame-10x.inlined-deps.spade.git-sha-93ef290.core    :refer [defclass]]\n    [day8.re-frame-10x.components.re-com                          :as rc]\n    [day8.re-frame-10x.styles                                     :as styles]\n    [day8.re-frame-10x.panels.settings.subs                       :as settings.subs]\n    [day8.re-frame-10x.panels.timing.subs                         :as timing.subs]\n    [day8.re-frame-10x.components.data                            :as data]))\n\n(defn ms->str\n  [ms]\n  (cond\n    (nil? ms) \"-\"\n    (= ms 0) (str \"0ms\")\n    (< ms 0.1) (str \"<0.1ms\")\n    (< ms 1) (str (.toFixed ms 1) \"ms\")\n    (some? ms) (str (js/Math.round ms) \"ms\")))\n\n(defclass tag-style\n  [ambiance]\n  {:composes (styles/frame-uncommon ambiance)})\n\n(defn tag\n  [{:keys [label time]}]\n  (let [ambiance @(rf/subscribe [::settings.subs/ambiance])]\n    [rc/v-box\n     :align    :center\n     :gap      styles/gs-5s\n     :children\n     [[rc/label :label label]\n      [data/tag (tag-style ambiance) (ms->str time)]]]))\n\n(defclass section-style\n  [ambiance]\n  {:composes      (styles/frame-1 ambiance)\n   :padding       styles/gs-12\n   :margin-bottom styles/gs-19})\n\n(defn elapsed\n  []\n  (let [ambiance @(rf/subscribe [::settings.subs/ambiance])\n        time     @(rf/subscribe [::timing.subs/total-epoch-time])]\n    [rc/h-box\n     :class    (section-style ambiance)\n     :align    :center\n     :gap      styles/gs-12s\n     :children\n     [[rc/box\n       :align   :center\n       :justify :center\n       :width   styles/gs-81s\n       :child\n       [rc/label\n        :label \"elapsed\"]]\n      [tag\n       {:label \"\"\n        :time  time}]\n      [rc/hyperlink\n       :class  (styles/hyperlink ambiance)\n       :label  \"guide me to greatness\"\n       :target \"_blank\"\n       :href   \"https://github.com/day8/re-frame-10x/blob/master/docs/HyperlinkedInformation/UnderstandingTiming.md\"]]]))\n\n(defn event-processing\n  []\n  (let [ambiance @(rf/subscribe [::settings.subs/ambiance])\n        times    @(rf/subscribe [::timing.subs/event-processing-time])]\n    [rc/h-box\n     :class    (section-style ambiance)\n     :align    :center\n     :gap      styles/gs-12s\n     :children\n     [[rc/v-box\n       :align    :center\n       :width    styles/gs-81s\n       :children\n       [[rc/label\n         :label \"event\"]\n        [rc/label\n         :label \"processing\"]]]\n      [tag\n       {:label \"total\"\n        :time  (:timing/event-total times)}]\n      [:span \"=\"]\n      [tag\n       {:label \"handler\"\n        :time  (:timing/event-handler times)}]\n      [:span \"+\"]\n      [tag\n       {:label \"effects\"\n        :time  (:timing/event-effects times)}]\n      [:span \"+\"]\n      [tag\n       {:label \"misc\"\n        :time  (:timing/event-misc times)}]]]))\n\n(defn animation-frames\n  []\n  (let [ambiance @(rf/subscribe [::settings.subs/ambiance])\n        n        @(rf/subscribe [::timing.subs/animation-frame-count])]\n    (into\n      [:<>]\n      (for [i    (range 1 (inc n))\n            :let [times @(rf/subscribe [::timing.subs/animation-frame-time i])]]\n        [rc/h-box\n         :class (section-style ambiance)\n         :align :center\n         :gap   styles/gs-12s\n         :children\n         [[rc/v-box\n           :align    :center\n           :width    styles/gs-81s\n           :children\n           [[rc/label\n             :label \"animation\"]\n            [rc/label\n             :label  (str \"frame #\" i)]]]\n          [tag\n           {:label \"total\"\n            :time  (:timing/animation-frame-total times)}]\n          [:span \"=\"]\n          [tag\n           {:label \"subs\"\n            :time  (:timing/animation-frame-subs times)}]\n          [:span \"+\"]\n          [tag\n           {:label \"views\"\n            :time  (:timing/animation-frame-render times)}]\n          [:span \"+\"]\n          [tag\n           {:label \"react, etc\"\n            :time  (:timing/animation-frame-misc times)}]]]))))\n\n(defclass panel-style\n  [_]\n  {:margin-right styles/gs-5})\n\n\n(defn panel\n  []\n  (let [ambiance   @(rf/subscribe [::settings.subs/ambiance])\n        available? @(rf/subscribe [::timing.subs/data-available?])]\n    (if available?\n      [rc/v-box\n       :class    (panel-style ambiance)\n       :children\n       [[elapsed]\n        [event-processing]\n        [animation-frames]]]\n      [rc/v-box\n       :class    (panel-style ambiance)\n       :children\n       [[rc/label\n         :label \"No timing data is currently available.\"]]])))"]}