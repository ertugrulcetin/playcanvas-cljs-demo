{"version":3,"sources":["re_highlight/core.cljs"],"mappings":";;;;;;AAQA,sCAAA,tCAAMA,oFACHC,MAAMC;AADT,AAEE,OAAmBC,+DAAKF,MAAMC;;AAEhC,oCAAA,pCAACF,8CAA4BI;AAE7B,AAAKC,sCAAkB,4FAAA,5FAACC,8CAASH;AAEjC,8BAAA,9BAAMI,oEACHC;AADH,AAEE,IAAAC,qBAAc,0EAAA,1EAACH,8CAAS,AAACK,qBAAcH;AAAvC,AAAA,oBAAAC;AAAA,AAAA,SAAAA,LAAWC;AAAX,AACE,QAACL,oEAAAA,wEAAAA,NAAkBK,oDAAAA;;AADrB;;;AAGF,+BAAA,/BAAME,sEACHJ,MAAKK,SAASC,UAAUC;AAD3B,AAEE,IAAAN,qBAAc,0EAAA,1EAACH,8CAAS,AAACK,qBAAcH;AAAvC,AAAA,oBAAAC;AAAA,AAAA,SAAAA,LAAWC;AAAX,8CACM,4FAAA,5FAACJ,8CAASH,5FACV,8JAAA,SAAA,vKAACa;;AACL,QAACX,oEAAAA,wEAAAA,NAAkBK,oDAAAA;;AAHrB;;;AAKF,AAAA,2BAAA,mCAAAO,9DAAMM;AAAN,AAAA,IAAAL,qBAAA;AAAA,AAAA,IAAAC,0BAAA,AAAA;AAAA,AAAA,IAAAC,wBAAA;;AAAA,AAAA,GAAA,CAAAA,wBAAAD;AAAA,AAAA,AAAAD,wBAAA,CAAA,UAAAE;;AAAA,eAAA,CAAAA,wBAAA;;;;AAAA;;;;AAAA,IAAAC,uBAAA,EAAA,CAAA,MAAA,AAAAH,4BAAA,AAAA,KAAAI,qBAAA,AAAAJ,yBAAA,KAAA,IAAA,OAAA;AAAA,AAAA,OAAAK,8DAAA,CAAA,UAAA,MAAAF;;;AAAA,AAAA,CAAA,gEAAA,WAAAG,3EAAMD,oFAC8Ba;AADpC,AAAA,IAAAX,aAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;aAAA,AAAAE,4CAAAF,eAAA,pEACWQ;YADX,AAAAN,4CAAAF,eAAA,nEACiBS;eADjB,AAAAP,4CAAAF,eAAA,tEACuBU;AADvB,AAAA,0FAAA,mDAAA,2CAAA,+DAAA,PAGWF,8DACAC,cACR,6CAAA,mFAAA,qDAAA,2CAAA,hOAACG,wRAEUF,yBACTC;;;AARL,CAAA,mDAAA,nDAAMb;;AAAN;AAAA,CAAA,6CAAA,WAAAK,xDAAML;AAAN,AAAA,IAAAM,WAAA,AAAAC,gBAAAF;IAAAA,eAAA,AAAAG,eAAAH;AAAA,AAAA,IAAAI,qBAAA;AAAA,AAAA,OAAAA,wDAAAH,SAAAD;;;AAAA,AAUA,8BAAA,9BAAMU;AAAN,AAEE,+DAAA,2CAAA,gHAAA,mHAAA,tUAACC,uLACwBhC,kHACAK,sGACAW","names":["re-highlight.core/register-language","label","js-obj","js/module$node_modules$highlight_DOT_js$lib$core","js/module$node_modules$highlight_DOT_js$lib$languages$clojure","re-highlight.core/highlight-element","re_highlight.core.goog$module$goog$object.get","re-highlight.core/did-mount","this","temp__5804__auto__","el","reagent.dom/dom-node","re-highlight.core/did-update","old-argv","old-state","snapshot","re_highlight.core.goog$module$goog$object.set","var_args","args__5772__auto__","len__5766__auto__","i__5767__auto__","argseq__5773__auto__","cljs.core/IndexedSeq","re-highlight.core/render","p__22012","map__22013","cljs.core/--destructure-map","cljs.core.get","seq22004","G__22005","cljs.core/first","cljs.core/next","self__5751__auto__","class","style","language","children","cljs.core.into","re-highlight.core/highlight","reagent.core.create_class"],"sourcesContent":["(ns re-highlight.core\n  (:require\n    [goog.object                          :as gobj]\n    [reagent.core                         :as r]\n    [reagent.dom                          :as rdom]\n    [\"highlight.js/lib/core\"              :as hljs]\n    [\"highlight.js/lib/languages/clojure\" :as clojure]))\n\n(defn register-language\n  [label js-obj]\n  (.registerLanguage hljs label js-obj))\n\n(register-language \"clojure\" clojure)\n\n(def highlight-element (gobj/get hljs \"highlightElement\"))\n\n(defn did-mount\n  [this]\n  (when-let [el (gobj/get (rdom/dom-node this) \"firstChild\")]\n    (highlight-element el)))\n\n(defn did-update\n  [this old-argv old-state snapshot]\n  (when-let [el (gobj/get (rdom/dom-node this) \"firstChild\")]\n    (-> (gobj/get hljs \"initHighlighting\")\n        (gobj/set \"called\" false))\n    (highlight-element el)))\n\n(defn render\n  [{:keys [class style language]} & children]\n  [:pre\n   {:class class\n    :style style}\n   (into\n     [:code\n      {:class language}]\n     children)])\n\n(defn highlight\n  []\n  (r/create-class\n    {:component-did-mount  did-mount\n     :component-did-update did-update\n     :reagent-render       render}))"]}