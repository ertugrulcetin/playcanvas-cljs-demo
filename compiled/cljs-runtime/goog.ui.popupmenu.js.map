{
"version":3,
"file":"goog.ui.popupmenu.js",
"lineCount":232,
"mappings":"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",
"sources":["goog/ui/popupmenu.js"],
"sourcesContent":["/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview A menu class for showing popups.  A single popup can be\n * attached to multiple anchor points.  The menu will try to reposition itself\n * if it goes outside the viewport.\n *\n * Decoration is the same as goog.ui.Menu except that the outer DIV can have a\n * 'for' property, which is the ID of the element which triggers the popup.\n *\n * Decorate Example:\n * <button id=\"dButton\">Decorated Popup</button>\n * <div id=\"dMenu\" for=\"dButton\" class=\"goog-menu\">\n *   <div class=\"goog-menuitem\">A a</div>\n *   <div class=\"goog-menuitem\">B b</div>\n *   <div class=\"goog-menuitem\">C c</div>\n *   <div class=\"goog-menuitem\">D d</div>\n *   <div class=\"goog-menuitem\">E e</div>\n *   <div class=\"goog-menuitem\">F f</div>\n * </div>\n *\n * TESTED=FireFox 2.0, IE6, Opera 9, Chrome.\n * TODO(user): Key handling is flakey in Opera and Chrome\n *\n * @see ../demos/popupmenu.html\n */\n\ngoog.provide('goog.ui.PopupMenu');\n\ngoog.require('goog.events');\ngoog.require('goog.events.BrowserEvent');\ngoog.require('goog.events.BrowserEvent.MouseButton');\ngoog.require('goog.events.EventType');\ngoog.require('goog.events.KeyCodes');\ngoog.require('goog.positioning.AnchoredViewportPosition');\ngoog.require('goog.positioning.Corner');\ngoog.require('goog.positioning.MenuAnchoredPosition');\ngoog.require('goog.positioning.Overflow');\ngoog.require('goog.positioning.ViewportClientPosition');\ngoog.require('goog.structs.Map');\ngoog.require('goog.style');\ngoog.require('goog.ui.Component');\ngoog.require('goog.ui.Menu');\ngoog.require('goog.ui.PopupBase');\ngoog.requireType('goog.dom.DomHelper');\ngoog.requireType('goog.events.Event');\ngoog.requireType('goog.math.Box');\ngoog.requireType('goog.positioning.AbstractPosition');\ngoog.requireType('goog.ui.MenuRenderer');\n\n\n\n/**\n * A basic menu class.\n * @param {?goog.dom.DomHelper=} opt_domHelper Optional DOM helper.\n * @param {?goog.ui.MenuRenderer=} opt_renderer Renderer used to render or\n *     decorate the container; defaults to {@link goog.ui.MenuRenderer}.\n * @extends {goog.ui.Menu}\n * @constructor\n */\ngoog.ui.PopupMenu = function(opt_domHelper, opt_renderer) {\n  'use strict';\n  goog.ui.Menu.call(this, opt_domHelper, opt_renderer);\n\n  this.setAllowAutoFocus(true);\n\n  // Popup menus are hidden by default.\n  this.setVisible(false, true);\n\n  /**\n   * Map of attachment points for the menu.  Key -> Object\n   * @type {!goog.structs.Map}\n   * @private\n   */\n  this.targets_ = new goog.structs.Map();\n};\ngoog.inherits(goog.ui.PopupMenu, goog.ui.Menu);\n\n\n/**\n * If true, then if the menu will toggle off if it is already visible.\n * @type {boolean}\n * @private\n */\ngoog.ui.PopupMenu.prototype.toggleMode_ = false;\n\n/**\n * If true, then the browser context menu will override the menu activation when\n * the shift key is held down.\n * @type {boolean}\n * @private\n */\ngoog.ui.PopupMenu.prototype.shiftOverride_ = false;\n\n\n/**\n * Time that the menu was last shown.\n * @type {number}\n * @private\n */\ngoog.ui.PopupMenu.prototype.lastHide_ = 0;\n\n\n/**\n * Current element where the popup menu is anchored.\n * @type {?Element}\n * @private\n */\ngoog.ui.PopupMenu.prototype.currentAnchor_ = null;\n\n\n/**\n * Decorate an existing HTML structure with the menu. Menu items will be\n * constructed from elements with classname 'goog-menuitem', separators will be\n * made from HR elements.\n * @param {?Element} element Element to decorate.\n * @override\n * @suppress {strictMissingProperties} Part of the go/strict_warnings_migration\n */\ngoog.ui.PopupMenu.prototype.decorateInternal = function(element) {\n  'use strict';\n  goog.ui.PopupMenu.superClass_.decorateInternal.call(this, element);\n  // 'for' is a custom attribute for attaching the menu to a click target\n  var htmlFor = element.getAttribute('for') || element.htmlFor;\n  if (htmlFor) {\n    this.attach(\n        this.getDomHelper().getElement(htmlFor),\n        goog.positioning.Corner.BOTTOM_LEFT);\n  }\n};\n\n\n/** @override */\ngoog.ui.PopupMenu.prototype.enterDocument = function() {\n  'use strict';\n  goog.ui.PopupMenu.superClass_.enterDocument.call(this);\n\n  this.targets_.forEach(this.attachEvent_, this);\n\n  var handler = this.getHandler();\n  handler.listen(this, goog.ui.Component.EventType.ACTION, this.onAction_);\n  handler.listen(\n      this.getDomHelper().getDocument(), goog.events.EventType.MOUSEDOWN,\n      this.onDocClick, true);\n};\n\n\n/**\n * Attaches the menu to a new popup position and anchor element.  A menu can\n * only be attached to an element once, since attaching the same menu for\n * multiple positions doesn't make sense.\n *\n * @param {?Element} element Element whose click event should trigger the menu.\n * @param {?goog.positioning.Corner=} opt_targetCorner Corner of the target that\n *     the menu should be anchored to.\n * @param {goog.positioning.Corner=} opt_menuCorner Corner of the menu that\n *     should be anchored.\n * @param {boolean=} opt_contextMenu Whether the menu should show on\n *     {@link goog.events.EventType.CONTEXTMENU} events, false if it should\n *     show on {@link goog.events.EventType.MOUSEDOWN} events. Default is\n *     MOUSEDOWN.\n * @param {?goog.math.Box=} opt_margin Margin for the popup used in positioning\n *     algorithms.\n */\ngoog.ui.PopupMenu.prototype.attach = function(\n    element, opt_targetCorner, opt_menuCorner, opt_contextMenu, opt_margin) {\n  'use strict';\n  if (this.isAttachTarget(element)) {\n    // Already in the popup, so just return.\n    return;\n  }\n\n  var target = this.createAttachTarget(\n      element, opt_targetCorner, opt_menuCorner, opt_contextMenu, opt_margin);\n\n  if (this.isInDocument()) {\n    this.attachEvent_(target);\n  }\n\n  // Add a listener for keyboard actions on the menu.\n  var handler = goog.partial(this.onMenuKeyboardAction_, element);\n  if (this.getElement()) {\n    this.getHandler().listen(\n        this.getElement(), goog.events.EventType.KEYDOWN, handler);\n  }\n};\n\n\n/**\n * Handles keyboard actions on the PopupMenu, according to\n * http://www.w3.org/WAI/PF/aria-practices/#menubutton.\n *\n * <p>If the ESC key is pressed, the menu is hidden (which is handled by\n * this.onAction_), and the focus is returned to the element whose click event\n * triggered opening of the menu.\n *\n * <p>If the SPACE or ENTER keys are pressed, the highlighted menu item's\n * listeners are fired.\n *\n * @param {Element} element Element whose click event triggered the menu.\n * @param {!goog.events.BrowserEvent} e The key down event.\n * @private\n */\ngoog.ui.PopupMenu.prototype.onMenuKeyboardAction_ = function(element, e) {\n  'use strict';\n  if (e.keyCode == goog.events.KeyCodes.ESC) {\n    element.focus();\n    return;\n  }\n  var highlightedItem = this.getChildAt(this.getHighlightedIndex());\n  if (!highlightedItem) {\n    return;\n  }\n  var targetElement = highlightedItem.getElement();\n  // Create an event to pass to the menu item's listener.\n  var event = new goog.events.BrowserEvent(e.getBrowserEvent(), targetElement);\n  event.target = targetElement;\n  // If an item is highlighted and the user presses the SPACE/ENTER key, the\n  // event target is the menu rather than the menu item, so we manually fire\n  // the listener of the correct menu item.\n  if (e.keyCode == goog.events.KeyCodes.SPACE ||\n      e.keyCode == goog.events.KeyCodes.ENTER) {\n    goog.events.fireListeners(\n        targetElement, goog.events.EventType.KEYDOWN, false, event);\n  }\n  // After activating a menu item the PopupMenu should be hidden (already\n  // implemented in this.onAction_ for ENTER/MOUSEDOWN).\n  if (e.keyCode == goog.events.KeyCodes.SPACE) {\n    this.hide();\n  }\n};\n\n\n/**\n * Creates an object describing how the popup menu should be attached to the\n * anchoring element based on the given parameters. The created object is\n * stored, keyed by `element` and is retrievable later by invoking\n * {@link #getAttachTarget(element)} at a later point.\n *\n * Subclass may add more properties to the returned object, as needed.\n *\n * @param {?Element} element Element whose click event should trigger the menu.\n * @param {?goog.positioning.Corner=} opt_targetCorner Corner of the target that\n *     the menu should be anchored to.\n * @param {?goog.positioning.Corner=} opt_menuCorner Corner of the menu that\n *     should be anchored.\n * @param {boolean=} opt_contextMenu Whether the menu should show on\n *     {@link goog.events.EventType.CONTEXTMENU} events, false if it should\n *     show on {@link goog.events.EventType.MOUSEDOWN} events. Default is\n *     MOUSEDOWN.\n * @param {?goog.math.Box=} opt_margin Margin for the popup used in positioning\n *     algorithms.\n *\n * @return {?Object} An object that describes how the popup menu should be\n *     attached to the anchoring element.\n *\n * @protected\n */\ngoog.ui.PopupMenu.prototype.createAttachTarget = function(\n    element, opt_targetCorner, opt_menuCorner, opt_contextMenu, opt_margin) {\n  'use strict';\n  if (!element) {\n    return null;\n  }\n\n  var target = {\n    element_: element,\n    targetCorner_: opt_targetCorner,\n    menuCorner_: opt_menuCorner,\n    eventType_: opt_contextMenu ? goog.events.EventType.CONTEXTMENU :\n                                  goog.events.EventType.MOUSEDOWN,\n    margin_: opt_margin\n  };\n\n  this.targets_.set(goog.getUid(element), target);\n\n  return target;\n};\n\n\n/**\n * Returns the object describing how the popup menu should be attach to given\n * element or `null`. The object is created and the association is formed\n * when {@link #attach} is invoked.\n *\n * @param {?Element} element DOM element.\n * @return {?Object} The object created when {@link attach} is invoked on\n *     `element`. Returns `null` if the element does not trigger\n *     the menu (i.e. {@link attach} has never been invoked on\n *     `element`).\n * @protected\n */\ngoog.ui.PopupMenu.prototype.getAttachTarget = function(element) {\n  'use strict';\n  return element ?\n      /** @type {?Object} */ (this.targets_.get(goog.getUid(element))) :\n      null;\n};\n\n\n/**\n * @param {?Element} element Any DOM element.\n * @return {boolean} Whether clicking on the given element will trigger the\n *     menu.\n *\n * @protected\n */\ngoog.ui.PopupMenu.prototype.isAttachTarget = function(element) {\n  'use strict';\n  return element ? this.targets_.containsKey(goog.getUid(element)) : false;\n};\n\n\n/**\n * @return {?Element} The current element where the popup is anchored, if it's\n *     visible.\n */\ngoog.ui.PopupMenu.prototype.getAttachedElement = function() {\n  'use strict';\n  return this.currentAnchor_;\n};\n\n\n/**\n * Attaches two event listeners to a target. One with corresponding event type,\n * and one with the KEYDOWN event type for accessibility purposes.\n * @param {?Object} target The target to attach an event to.\n * @private\n * @suppress {strictMissingProperties} Part of the go/strict_warnings_migration\n */\ngoog.ui.PopupMenu.prototype.attachEvent_ = function(target) {\n  'use strict';\n  this.getHandler().listen(\n      target.element_, target.eventType_, this.onTargetClick_);\n  if (target.eventType_ != goog.events.EventType.CONTEXTMENU) {\n    this.getHandler().listen(\n        target.element_, goog.events.EventType.KEYDOWN,\n        this.onTargetKeyboardAction_);\n  }\n};\n\n\n/**\n * Detaches all listeners\n */\ngoog.ui.PopupMenu.prototype.detachAll = function() {\n  'use strict';\n  if (this.isInDocument()) {\n    var keys = this.targets_.getKeys();\n    for (var i = 0; i < keys.length; i++) {\n      this.detachEvent_(/** @type {!Object} */ (this.targets_.get(keys[i])));\n    }\n  }\n\n  this.targets_.clear();\n};\n\n\n/**\n * Detaches a menu from a given element.\n * @param {?Element} element Element whose click event should trigger the menu.\n */\ngoog.ui.PopupMenu.prototype.detach = function(element) {\n  'use strict';\n  if (!this.isAttachTarget(element)) {\n    throw new Error('Menu not attached to provided element, unable to detach.');\n  }\n\n  var key = goog.getUid(element);\n  if (this.isInDocument()) {\n    this.detachEvent_(/** @type {!Object} */ (this.targets_.get(key)));\n  }\n\n  this.targets_.remove(key);\n};\n\n\n/**\n * Detaches an event listener to a target\n * @param {!Object} target The target to detach events from.\n * @private\n * @suppress {strictMissingProperties} Part of the go/strict_warnings_migration\n */\ngoog.ui.PopupMenu.prototype.detachEvent_ = function(target) {\n  'use strict';\n  this.getHandler().unlisten(\n      target.element_, target.eventType_, this.onTargetClick_);\n};\n\n\n/**\n * Sets whether the menu should toggle if it is already open.  For context\n * menus this should be false, for toolbar menus it makes more sense to be true.\n * @param {boolean} toggle The new toggle mode.\n */\ngoog.ui.PopupMenu.prototype.setToggleMode = function(toggle) {\n  'use strict';\n  this.toggleMode_ = toggle;\n};\n\n/**\n * Sets whether the browser context menu will override the menu activation when\n * the shift key is held down.\n * @param {boolean} shiftOverride\n */\ngoog.ui.PopupMenu.prototype.setShiftOverride = function(shiftOverride) {\n  'use strict';\n  this.shiftOverride_ = shiftOverride;\n};\n\n/**\n * Gets whether the menu is in toggle mode\n * @return {boolean} toggle.\n */\ngoog.ui.PopupMenu.prototype.getToggleMode = function() {\n  'use strict';\n  return this.toggleMode_;\n};\n\n/**\n * Gets whether the browser context menu will override the menu activation when\n * the shift key is held down.\n * @return {boolean}\n */\ngoog.ui.PopupMenu.prototype.getShiftOverride = function() {\n  'use strict';\n  return this.shiftOverride_;\n};\n\n\n/**\n * Show the menu using given positioning object.\n * @param {?goog.positioning.AbstractPosition} position The positioning\n *     instance.\n * @param {goog.positioning.Corner=} opt_menuCorner The corner of the menu to be\n *     positioned.\n * @param {?goog.math.Box=} opt_margin A margin specified in pixels.\n * @param {?Element=} opt_anchor The element which acts as visual anchor for\n *     this menu.\n */\ngoog.ui.PopupMenu.prototype.showWithPosition = function(\n    position, opt_menuCorner, opt_margin, opt_anchor) {\n  'use strict';\n  var isVisible = this.isVisible();\n  if (this.isOrWasRecentlyVisible() && this.toggleMode_) {\n    this.hide();\n    return;\n  }\n\n  // Set current anchor before dispatching BEFORE_SHOW. This is typically useful\n  // when we would need to make modifications based on the current anchor to the\n  // menu just before displaying it.\n  this.currentAnchor_ = opt_anchor || null;\n\n  // Notify event handlers that the menu is about to be shown.\n  if (!this.dispatchEvent(goog.ui.Component.EventType.BEFORE_SHOW)) {\n    return;\n  }\n\n  var menuCorner = typeof opt_menuCorner != 'undefined' ?\n      opt_menuCorner :\n      goog.positioning.Corner.TOP_START;\n\n  // This is a little hacky so that we can position the menu with minimal\n  // flicker.\n\n  if (!isVisible) {\n    // On IE, setting visibility = 'hidden' on a visible menu\n    // will cause a blur, forcing the menu to close immediately.\n    this.getElement().style.visibility = 'hidden';\n  }\n\n  goog.style.setElementShown(this.getElement(), true);\n  position.reposition(this.getElement(), menuCorner, opt_margin);\n\n  if (!isVisible) {\n    this.getElement().style.visibility = 'visible';\n  }\n\n  this.setHighlightedIndex(-1);\n\n  // setVisible dispatches a goog.ui.Component.EventType.SHOW event, which may\n  // be canceled to prevent the menu from being shown.\n  this.setVisible(true);\n};\n\n\n/**\n * Show the menu at a given attached target.\n * @param {!Object} target Popup target.\n * @param {number} x The client-X associated with the show event.\n * @param {number} y The client-Y associated with the show event.\n * @protected\n * @suppress {strictMissingProperties} Part of the go/strict_warnings_migration\n */\ngoog.ui.PopupMenu.prototype.showMenu = function(target, x, y) {\n  'use strict';\n  var position = (target.targetCorner_ !== undefined) ?\n      new goog.positioning.AnchoredViewportPosition(\n          target.element_, target.targetCorner_, true) :\n      new goog.positioning.ViewportClientPosition(x, y);\n  if (position.setLastResortOverflow) {\n    // This is a ViewportClientPosition, so we can set the overflow policy.\n    // Allow the menu to slide from the corner rather than clipping if it is\n    // completely impossible to fit it otherwise.\n    position.setLastResortOverflow(\n        goog.positioning.Overflow.ADJUST_X |\n        goog.positioning.Overflow.ADJUST_Y);\n  }\n  this.showWithPosition(\n      position, target.menuCorner_, target.margin_, target.element_);\n};\n\n\n/**\n * Shows the menu immediately at the given client coordinates.\n * @param {number} x The client-X associated with the show event.\n * @param {number} y The client-Y associated with the show event.\n * @param {goog.positioning.Corner=} opt_menuCorner Corner of the menu that\n *     should be anchored.\n */\ngoog.ui.PopupMenu.prototype.showAt = function(x, y, opt_menuCorner) {\n  'use strict';\n  this.showWithPosition(\n      new goog.positioning.ViewportClientPosition(x, y), opt_menuCorner);\n};\n\n\n/**\n * Shows the menu immediately attached to the given element\n * @param {?Element} element The element to show at.\n * @param {goog.positioning.Corner} targetCorner The corner of the target to\n *     anchor to.\n * @param {goog.positioning.Corner=} opt_menuCorner Corner of the menu that\n *     should be anchored.\n */\ngoog.ui.PopupMenu.prototype.showAtElement = function(\n    element, targetCorner, opt_menuCorner) {\n  'use strict';\n  this.showWithPosition(\n      new goog.positioning.MenuAnchoredPosition(element, targetCorner, true),\n      opt_menuCorner, null, element);\n};\n\n\n/**\n * Hides the menu.\n */\ngoog.ui.PopupMenu.prototype.hide = function() {\n  'use strict';\n  if (!this.isVisible()) {\n    return;\n  }\n\n  // setVisible dispatches a goog.ui.Component.EventType.HIDE event, which may\n  // be canceled to prevent the menu from being hidden.\n  this.setVisible(false);\n  if (!this.isVisible()) {\n    // HIDE event wasn't canceled; the menu is now hidden.\n    this.lastHide_ = Date.now();\n    this.currentAnchor_ = null;\n  }\n};\n\n\n/**\n * Returns whether the menu is currently visible or was visible within about\n * 150 ms ago.  This stops the menu toggling back on if the toggleMode == false.\n * @return {boolean} Whether the popup is currently visible or was visible\n *     within about 150 ms ago.\n */\ngoog.ui.PopupMenu.prototype.isOrWasRecentlyVisible = function() {\n  'use strict';\n  return this.isVisible() || this.wasRecentlyHidden();\n};\n\n\n/**\n * Used to stop the menu toggling back on if the toggleMode == false.\n * @return {boolean} Whether the menu was recently hidden.\n * @protected\n */\ngoog.ui.PopupMenu.prototype.wasRecentlyHidden = function() {\n  'use strict';\n  return Date.now() - this.lastHide_ < goog.ui.PopupBase.DEBOUNCE_DELAY_MS;\n};\n\n\n/**\n * Dismiss the popup menu when an action fires.\n * @param {?goog.events.Event=} opt_e The optional event.\n * @private\n */\ngoog.ui.PopupMenu.prototype.onAction_ = function(opt_e) {\n  'use strict';\n  this.hide();\n};\n\n\n/**\n * Handles a browser click event on one of the popup targets.\n * @param {?goog.events.BrowserEvent} e The browser event.\n * @private\n */\ngoog.ui.PopupMenu.prototype.onTargetClick_ = function(e) {\n  'use strict';\n  if (this.shiftOverride_ && e.shiftKey &&\n      e.button == goog.events.BrowserEvent.MouseButton.RIGHT) {\n    return;\n  }\n  this.onTargetActivation_(e);\n};\n\n\n/**\n * Handles a KEYDOWN browser event on one of the popup targets.\n * @param {!goog.events.BrowserEvent} e The browser event.\n * @private\n */\ngoog.ui.PopupMenu.prototype.onTargetKeyboardAction_ = function(e) {\n  'use strict';\n  if (e.keyCode == goog.events.KeyCodes.SPACE ||\n      e.keyCode == goog.events.KeyCodes.ENTER ||\n      e.keyCode == goog.events.KeyCodes.DOWN) {\n    this.onTargetActivation_(e);\n  }\n  // If the popupmenu is opened using the DOWN key, the focus should be on the\n  // first menu item.\n  if (e.keyCode == goog.events.KeyCodes.DOWN) {\n    this.highlightFirst();\n  }\n};\n\n\n/**\n * Handles a browser event on one of the popup targets.\n * @param {?goog.events.BrowserEvent} e The browser event.\n * @private\n * @suppress {strictMissingProperties} Part of the go/strict_warnings_migration\n */\ngoog.ui.PopupMenu.prototype.onTargetActivation_ = function(e) {\n  'use strict';\n  var keys = this.targets_.getKeys();\n  for (var i = 0; i < keys.length; i++) {\n    var target = /** @type {!Object} */ (this.targets_.get(keys[i]));\n    if (target.element_ == e.currentTarget) {\n      this.showMenu(target, (e.clientX), (e.clientY));\n      e.preventDefault();\n      e.stopPropagation();\n      return;\n    }\n  }\n};\n\n\n/**\n * Handles click events that propagate to the document.\n * @param {!goog.events.BrowserEvent} e The browser event.\n * @protected\n */\ngoog.ui.PopupMenu.prototype.onDocClick = function(e) {\n  'use strict';\n  if (this.isVisible() &&\n      !this.containsElement(/** @type {!Element} */ (e.target))) {\n    this.hide();\n  }\n};\n\n\n/**\n * Handles the key event target losing focus.\n * @param {?goog.events.BrowserEvent} e The browser event.\n * @override\n */\ngoog.ui.PopupMenu.prototype.handleBlur = function(e) {\n  'use strict';\n  goog.ui.PopupMenu.superClass_.handleBlur.call(this, e);\n  this.hide();\n};\n\n\n/** @override */\ngoog.ui.PopupMenu.prototype.disposeInternal = function() {\n  'use strict';\n  // Always call the superclass' disposeInternal() first (Bug 715885).\n  goog.ui.PopupMenu.superClass_.disposeInternal.call(this);\n\n  // Disposes of the attachment target map.\n  if (this.targets_) {\n    this.targets_.clear();\n    delete this.targets_;\n  }\n};\n"],
"names":["goog","provide","require","requireType","ui","PopupMenu","goog.ui.PopupMenu","opt_domHelper","opt_renderer","Menu","call","setAllowAutoFocus","setVisible","targets_","structs","Map","inherits","prototype","toggleMode_","shiftOverride_","lastHide_","currentAnchor_","decorateInternal","goog.ui.PopupMenu.prototype.decorateInternal","element","superClass_","htmlFor","getAttribute","attach","getDomHelper","getElement","positioning","Corner","BOTTOM_LEFT","enterDocument","goog.ui.PopupMenu.prototype.enterDocument","forEach","attachEvent_","handler","getHandler","listen","Component","EventType","ACTION","onAction_","getDocument","events","MOUSEDOWN","onDocClick","goog.ui.PopupMenu.prototype.attach","opt_targetCorner","opt_menuCorner","opt_contextMenu","opt_margin","isAttachTarget","target","createAttachTarget","isInDocument","partial","onMenuKeyboardAction_","KEYDOWN","goog.ui.PopupMenu.prototype.onMenuKeyboardAction_","e","keyCode","KeyCodes","ESC","focus","highlightedItem","getChildAt","getHighlightedIndex","targetElement","event","BrowserEvent","getBrowserEvent","SPACE","ENTER","fireListeners","hide","goog.ui.PopupMenu.prototype.createAttachTarget","element_","targetCorner_","menuCorner_","eventType_","CONTEXTMENU","margin_","set","getUid","getAttachTarget","goog.ui.PopupMenu.prototype.getAttachTarget","get","goog.ui.PopupMenu.prototype.isAttachTarget","containsKey","getAttachedElement","goog.ui.PopupMenu.prototype.getAttachedElement","goog.ui.PopupMenu.prototype.attachEvent_","onTargetClick_","onTargetKeyboardAction_","detachAll","goog.ui.PopupMenu.prototype.detachAll","keys","getKeys","i","length","detachEvent_","clear","detach","goog.ui.PopupMenu.prototype.detach","Error","key","remove","goog.ui.PopupMenu.prototype.detachEvent_","unlisten","setToggleMode","goog.ui.PopupMenu.prototype.setToggleMode","toggle","setShiftOverride","goog.ui.PopupMenu.prototype.setShiftOverride","shiftOverride","getToggleMode","goog.ui.PopupMenu.prototype.getToggleMode","getShiftOverride","goog.ui.PopupMenu.prototype.getShiftOverride","showWithPosition","goog.ui.PopupMenu.prototype.showWithPosition","position","opt_anchor","isVisible","isOrWasRecentlyVisible","dispatchEvent","BEFORE_SHOW","menuCorner","TOP_START","style","visibility","setElementShown","reposition","setHighlightedIndex","showMenu","goog.ui.PopupMenu.prototype.showMenu","x","y","undefined","AnchoredViewportPosition","ViewportClientPosition","setLastResortOverflow","Overflow","ADJUST_X","ADJUST_Y","showAt","goog.ui.PopupMenu.prototype.showAt","showAtElement","goog.ui.PopupMenu.prototype.showAtElement","targetCorner","MenuAnchoredPosition","goog.ui.PopupMenu.prototype.hide","Date","now","goog.ui.PopupMenu.prototype.isOrWasRecentlyVisible","wasRecentlyHidden","goog.ui.PopupMenu.prototype.wasRecentlyHidden","PopupBase","DEBOUNCE_DELAY_MS","goog.ui.PopupMenu.prototype.onAction_","opt_e","goog.ui.PopupMenu.prototype.onTargetClick_","shiftKey","button","MouseButton","RIGHT","onTargetActivation_","goog.ui.PopupMenu.prototype.onTargetKeyboardAction_","DOWN","highlightFirst","goog.ui.PopupMenu.prototype.onTargetActivation_","currentTarget","clientX","clientY","preventDefault","stopPropagation","goog.ui.PopupMenu.prototype.onDocClick","containsElement","handleBlur","goog.ui.PopupMenu.prototype.handleBlur","disposeInternal","goog.ui.PopupMenu.prototype.disposeInternal"]
}
